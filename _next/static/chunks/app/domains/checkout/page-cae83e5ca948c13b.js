(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{1981:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,n.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3008:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,n.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8956:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,n.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9036:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,n.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},886:function(e,r,a){Promise.resolve().then(a.bind(a,1942)),Promise.resolve().then(a.bind(a,9167))},1942:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return components_DomainCheckout}});var n=a(7437),t=a(2265),s=a(9598),l=a(3611),i=a(708),c=a(3008),o=a(1981),d=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var m=a(8956);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var h=a(9036);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var components_DomainCheckout=()=>{let[e,r]=(0,t.useState)(""),[a,d]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(null),[S,_]=(0,t.useState)(1),[Z,P]=(0,t.useState)(!0),[I,z]=(0,t.useState)({first_name:"",last_name:"",organization:"",address1:"",address2:"",city:"",state:"",postal_code:"",country:"US",phone:"",email:""});(0,t.useEffect)(()=>{let e=new URLSearchParams(window.location.search),a=e.get("domain");a&&(r(a),fetchDomainInfo(a))},[]);let fetchDomainInfo=async e=>{g(!0);try{let r=await fetch("/api/v1/domains/search?q=".concat(e,"&tlds=com,ai,dev,io,co&limit=1")),a=await r.json();a.ok&&a.data.length>0?d(a.data[0]):j("Domain not found or not available")}catch(e){j("Failed to fetch domain information"),console.error("Domain fetch error:",e)}finally{g(!1)}},handlePurchase=async()=>{if(!a||!a.available){j("Domain is not available for purchase");return}y(!0),j(null);try{let a=await fetch("/api/v1/domains/purchase",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))},body:JSON.stringify({domain:e,years:S,privacy:Z,registrant_contact:I,admin_contact:I,tech_contact:I,billing_contact:I})}),n=await a.json();if(n.ok)w(!0),k(n.data.order_id);else{var r;j((null===(r=n.error)||void 0===r?void 0:r.message)||"Purchase failed")}}catch(e){j("Failed to purchase domain"),console.error("Purchase error:",e)}finally{y(!1)}},formatPrice=(e,r)=>new Intl.NumberFormat("en-US",{style:"currency",currency:r.toUpperCase()}).format(e/100),handleInputChange=(e,r)=>{z(a=>({...a,[e]:r}))};return N?(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsx)(s.Zb,{className:"border-green-200 bg-green-50",children:(0,n.jsxs)(s.aY,{className:"p-8 text-center",children:[(0,n.jsx)(c.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Domain Purchase Successful!"}),(0,n.jsxs)("p",{className:"text-green-700 mb-4",children:["Your domain ",(0,n.jsx)("strong",{children:e})," is being registered."]}),(0,n.jsxs)("p",{className:"text-sm text-green-600 mb-6",children:["Order ID: ",C]}),(0,n.jsxs)("div",{className:"space-x-4",children:[(0,n.jsx)(l.z,{onClick:()=>window.location.href="/domains/".concat(e,"/connect"),className:"bg-green-600 hover:bg-green-700",children:"Connect to App"}),(0,n.jsx)(l.z,{onClick:()=>window.location.href="/domains",variant:"outline",children:"View All Domains"})]})]})})}):f?(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsx)(s.Zb,{children:(0,n.jsxs)(s.aY,{className:"p-8 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading domain information..."})]})})}):a?(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)(l.z,{onClick:()=>window.location.href="/domains",variant:"outline",size:"sm",children:[(0,n.jsx)(u,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Complete your domain purchase"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,n.jsxs)(s.Zb,{children:[(0,n.jsx)(s.Ol,{children:(0,n.jsxs)(s.ll,{className:"flex items-center",children:[(0,n.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Domain Summary"]})}),(0,n.jsxs)(s.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-lg font-semibold",children:e}),(0,n.jsxs)(i.C,{className:"bg-green-100 text-green-800",children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),"Available"]})]}),a.pricing&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("span",{children:["Registration (",S," year",S>1?"s":"",")"]}),(0,n.jsx)("span",{className:"font-semibold",children:formatPrice(a.pricing.price_cents*S,a.pricing.currency)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Privacy Protection"}),(0,n.jsx)("span",{children:Z?"Included":"Not included"})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,n.jsx)("span",{children:"Total"}),(0,n.jsx)("span",{children:formatPrice(a.pricing.price_cents*S,a.pricing.currency)})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Period"}),(0,n.jsx)("select",{value:S,onChange:e=>_(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:a.years_allowed.map(e=>(0,n.jsxs)("option",{value:e,children:[e," year",e>1?"s":""]},e))})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"privacy",checked:Z,onChange:e=>P(e.target.checked),className:"rounded"}),(0,n.jsx)("label",{htmlFor:"privacy",className:"text-sm text-gray-700",children:"Enable privacy protection (recommended)"})]})]})]})]}),(0,n.jsxs)(s.Zb,{children:[(0,n.jsx)(s.Ol,{children:(0,n.jsxs)(s.ll,{className:"flex items-center",children:[(0,n.jsx)(x,{className:"w-5 h-5 mr-2"}),"Contact Information"]})}),(0,n.jsxs)(s.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,n.jsx)("input",{type:"text",value:I.first_name,onChange:e=>handleInputChange("first_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,n.jsx)("input",{type:"text",value:I.last_name,onChange:e=>handleInputChange("last_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),(0,n.jsx)("input",{type:"text",value:I.organization,onChange:e=>handleInputChange("organization",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),(0,n.jsx)("input",{type:"text",value:I.address1,onChange:e=>handleInputChange("address1",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,n.jsx)("input",{type:"text",value:I.address2,onChange:e=>handleInputChange("address2",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,n.jsx)("input",{type:"text",value:I.city,onChange:e=>handleInputChange("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,n.jsx)("input",{type:"text",value:I.state,onChange:e=>handleInputChange("state",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),(0,n.jsx)("input",{type:"text",value:I.postal_code,onChange:e=>handleInputChange("postal_code",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,n.jsxs)("select",{value:I.country,onChange:e=>handleInputChange("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[(0,n.jsx)("option",{value:"US",children:"United States"}),(0,n.jsx)("option",{value:"CA",children:"Canada"}),(0,n.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,n.jsx)("option",{value:"AU",children:"Australia"}),(0,n.jsx)("option",{value:"DE",children:"Germany"}),(0,n.jsx)("option",{value:"FR",children:"France"}),(0,n.jsx)("option",{value:"JP",children:"Japan"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,n.jsx)("input",{type:"tel",value:I.phone,onChange:e=>handleInputChange("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,n.jsx)("input",{type:"email",value:I.email,onChange:e=>handleInputChange("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]})]})]})]}),v&&(0,n.jsx)(s.Zb,{className:"border-red-200 bg-red-50",children:(0,n.jsx)(s.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center text-red-800",children:[(0,n.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),v]})})}),(0,n.jsx)(s.Zb,{children:(0,n.jsx)(s.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(h.Z,{className:"w-6 h-6 text-green-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold text-gray-900",children:"Secure Purchase"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Your payment is processed securely through Stripe"})]})]}),(0,n.jsx)(l.z,{onClick:handlePurchase,disabled:b||!a.available,className:"bg-green-600 hover:bg-green-700 px-8 py-3 text-lg",children:b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p,{className:"w-5 h-5 mr-2"}),"Purchase Domain"]})})]})})})]}):(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsx)(s.Zb,{className:"border-red-200 bg-red-50",children:(0,n.jsxs)(s.aY,{className:"p-8 text-center",children:[(0,n.jsx)(o.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-red-800 mb-2",children:"Domain Not Found"}),(0,n.jsx)("p",{className:"text-red-700 mb-6",children:"The domain you're looking for is not available or doesn't exist."}),(0,n.jsxs)(l.z,{onClick:()=>window.location.href="/domains",variant:"outline",children:[(0,n.jsx)(u,{className:"w-4 h-4 mr-2"}),"Back to Search"]})]})})})}},708:function(e,r,a){"use strict";a.d(r,{C:function(){return Badge}});var n=a(7437);a(2265);var t=a(6061),s=a(1628);let l=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:r,variant:a,...t}=e;return(0,n.jsx)("div",{className:(0,s.cn)(l({variant:a}),r),...t})}},3611:function(e,r,a){"use strict";a.d(r,{z:function(){return o}});var n=a(7437),t=a(2265),s=a(7256),l=a(6061),i=a(1628);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,r)=>{let{className:a,variant:t,size:l,asChild:o=!1,...d}=e,u=o?s.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:t,size:l,className:a})),ref:r,...d})});o.displayName="Button"},9598:function(e,r,a){"use strict";a.d(r,{Ol:function(){return i},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var n=a(7437),t=a(2265),s=a(1628);let l=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});l.displayName="Card";let i=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...t})});i.displayName="CardHeader";let c=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});c.displayName="CardTitle";let o=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",a),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",a),...t})});d.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",a),...t})});u.displayName="CardFooter"},1628:function(e,r,a){"use strict";a.d(r,{cn:function(){return cn}});var n=a(7042),t=a(4769);function cn(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,t.m6)((0,n.W)(r))}},9167:function(e,r,a){"use strict";function NoSSR(e){let{children:r}=e;return r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NoSSR",{enumerable:!0,get:function(){return NoSSR}}),a(1283)}},function(e){e.O(0,[723,971,472,744],function(){return e(e.s=886)}),_N_E=e.O()}]);